# 安全修复记录

本文档记录了 2025-07-19 进行的重要安全修复。

## 修复的问题

### 1. 环境变量暴露
- **问题**: `.env` 文件被提交到了 Git 仓库
- **严重性**: 高
- **修复**:
  - 将 `.env` 添加到 `.gitignore`
  - 从 Git 历史中移除 `.env` 文件
  - 创建 `.env.example` 作为模板

### 2. TypeScript 配置加强
- **问题**: TypeScript 严格模式被关闭
- **修复**: 启用了所有严格检查选项

### 3. npm 安全漏洞
- **发现**: 20个漏洞（12个高危，3个严重）
- **主要问题**: react-snap 依赖的包含有安全漏洞
- **状态**: 部分修复（从25个减少到20个）

## 重要提醒

⚠️ **Formspree ID 已暴露**: 由于 `.env` 文件曾经在公开仓库中，建议：
1. 登录 Formspree 账户
2. 重新生成新的 Form ID
3. 更新本地 `.env` 文件中的 `VITE_FORMSPREE_ID`

## 后续建议

1. **定期安全审计**: 每月运行 `npm audit`
2. **依赖更新**: 定期更新依赖包
3. **考虑替换 react-snap**: 寻找更安全的预渲染方案

---

最后更新：2025-07-19